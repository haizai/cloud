webpackJsonp([0],{"+/H/":function(e,t){},"+unz":function(e,t,s){"use strict";function a(e){s("NNvV")}var n=s("v91w"),r=s("HcO6"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},"/9DJ":function(e,t,s){"use strict";t.a={name:"foot"}},"0aSr":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"carousel"},[s("i",{staticClass:"caro-icon caro-icon-left icon-caro-left",on:{click:e.toLeft}}),e._v(" "),s("i",{staticClass:"caro-icon caro-icon-right icon-caro-right",on:{click:e.toRight}}),e._v(" "),s("div",{staticClass:"caro-bar"},e._l(e.maxId,function(t){return s("div",{staticClass:"caro-bar-item",on:{mouseenter:function(s){e.barEnter(t)},mouseleave:function(s){e.barLeave(t)},click:function(s){e.toIndex(t)}}},[s("div",{staticClass:"caro-bar-item-div",class:{"caro-bar-item-active":t===e.hoverId||e.caroId===t}})])})),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.caroId,expression:"caroId === 1"}],staticClass:"caro-item"},[e._v("\n\t\t\titem 1\n\t\t")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2===e.caroId,expression:"caroId === 2"}],staticClass:"caro-item"},[e._v("\n\t\t\titem 2\n\t\t")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:3===e.caroId,expression:"caroId === 3"}],staticClass:"caro-item"},[e._v("\n\t\t\titem 3\n\t\t")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:4===e.caroId,expression:"caroId === 4"}],staticClass:"caro-item"},[e._v("\n\t\t\titem 4\n\t\t")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:5===e.caroId,expression:"caroId === 5"}],staticClass:"caro-item"},[e._v("\n\t\t\titem 5\n\t\t")])])},n=[],r={render:a,staticRenderFns:n};t.a=r},"1qE6":function(e,t,s){"use strict";var a=s("f+co"),n=s("1uV8"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},"1uV8":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("pre",{staticClass:"jianli-code language-js",domProps:{innerHTML:e._s(e.highlight(e.code))}})},n=[],r={render:a,staticRenderFns:n};t.a=r},"2Hoo":function(e,t){},"3rr9":function(e,t,s){"use strict";t.a={slice:{usage:"slice() 方法提取一个字符串的一部分，并返回一新的字符串。",grammar:"str.slice(beginSlice[, endSlice])",paramTypes:["Number","Number"],paramUsages:["从该索引处开始提取原字符串中的字符。如果值为负数，则被看作是 sourceLength + beginSlice","可选。在该索引处结束提取字符串。如果省略该参数，slice会一直提取到字符串末尾。如果该参数为负数，则被看作是 sourceLength + endSlice"]},substr:{usage:"substr() 方法返回一个字符串中从指定位置开始到指定字符数的字符。",grammar:"str.substr(start[, length])",paramTypes:["Number","Number"],paramUsages:["开始提取字符的位置。如果为负值，则被看作 strLength + start","可选。提取的字符数"]},substring:{usage:"substring() 方法返回一个字符串在开始索引到结束索引之间的一个子集, 或从开始索引直到字符串的末尾的一个子集。",grammar:"str.substring(indexStart[, indexEnd])",paramTypes:["Number","Number"],paramUsages:["一个 0 到字符串长度之间的整数。","可选。一个 0 到字符串长度之间的整数。"]},concat:{usage:"concat() 方法将一个或多个字符串与原字符串连接合并，形成一个新的字符串并返回。",grammar:"str.concat(string2, string3[, ..., stringN])",paramTypes:["String"],paramUsages:["和原字符串连接的多个字符串"],isParamInfinite:!0},charAt:{usage:"charAt() 方法从一个字符串中返回指定的字符",grammar:"str.charAt(index)",paramTypes:["Number","Number"],paramUsages:["一个大于等于 0，小于字符串长度的整数。如果不是一个数值，则默认为 0。"]},charCodeAt:{usage:"charCodeAt() 方法返回0到65535之间的整数，表示给定索引处的UTF-16代码单元",grammar:"str.charCodeAt(index)",paramTypes:["Number","Number"],outputType:"Number",paramUsages:["一个大于等于 0，小于字符串长度的整数。如果不是一个数值，则默认为 0。"]},toUpperCase:{name:"toUpperCase",usage:"toUpperCase() 将调用该方法的字符串值转换为大写形式，并返回。",grammar:"str.toUpperCase()",paramUsages:[]},toLowerCase:{name:"toLowerCase",usage:"toLowerCase() 会将调用该方法的字符串值转为小写形式，并返回。",grammar:"str.toLowerCase()",paramUsages:[]},indexOf:{usage:"indexOf() 方法返回调用 String 对象中第一次出现的指定值的索引，开始在 fromIndex进行搜索。如果未找到该值，则返回-1。",grammar:"str.indexOf(searchValue[, fromIndex])",paramTypes:["String","Number"],paramUsages:["一个字符串表示被查找的值。","可选。表示调用该方法的字符串中开始查找的位置。可以是任意整数。默认值为 0。"]},lastIndexOf:{usage:"lastIndexOf() 方法返回指定值在调用该方法的字符串中最后出现的位置，如果没找到则返回 -1。从该字符串的后面向前查找，从 fromIndex 处开始。",grammar:"str.lastIndexOf(searchValue[, fromIndex])",paramTypes:["String","Number"],paramUsages:["一个字符串，表示被查找的值。","可选。从调用该方法字符串的此位置处开始查找。可以是任意整数。默认值为 str.length。"]},trim:{usage:"trim() 方法会从一个字符串的两端删除空白字符。在这个上下文中的空白字符是所有的空白字符 (space, tab, no-break space 等) 以及所有行终止符字符（如 LF，CR）。",grammar:"str.trim()",paramUsages:[],tip:"ES5"},startsWith:{usage:"startsWith()方法用来判断当前字符串是否是以另外一个给定的子字符串“开头”的，根据判断结果返回 true 或 false。",grammar:"str.startsWith(searchString [, position])",paramTypes:["String","Number"],outputType:"Boolean",paramUsages:["要搜索的子字符串。","可选。在 str 中搜索 searchString 的开始位置，默认值为 0，也就是真正的字符串开头处。"],tip:"ES6"},endsWith:{usage:"endsWith()方法用来判断当前字符串是否是以另外一个给定的子字符串“结尾”的，根据判断结果返回 true 或 false。",grammar:"str.endsWith(searchString [, position])",paramTypes:["String","Number"],outputType:"Boolean",paramUsages:["要搜索的子字符串。","可选。在 str 中搜索 searchString 的结束位置，默认值为 str.length，也就是真正的字符串结尾处。"],tip:"ES6"},includes:{usage:"includes() 方法用于判断一个字符串是否包含在另一个字符串中，根据情况返回true或false。",grammar:"str.includes(searchString[, position])",paramTypes:["String","Number"],outputType:"Boolean",paramUsages:["要在此字符串中搜索的字符串。","可选。可选。从当前字符串的哪个索引位置开始搜寻子字符串；默认值为0。"],tip:"ES6"},repeat:{usage:"repeat() 构造并返回一个新字符串，该字符串包含被连接在一起的指定数量的字符串的副本。",grammar:"str.repeat(count)",paramTypes:["Number"],paramUsages:["介于0和正无穷大之间的整数 : [0, +∞) 。表示在新构造的字符串中重复了多少遍原字符串。"],tip:"ES6"},padStart:{usage:"padStart() 方法会用一个字符串填充当前字符串（如果需要的话会重复填充），在当前字符串的头部不断填充，直到它达到第一个参数中指定的目标长度。",grammar:"str.padStart(targetLength [, padString])",paramTypes:["Number","String"],paramUsages:["当前字符串需要填充到的目标长度。如果当前字符串原本就达到了该长度，那么该方法什么都不会做，直接返回原字符串。","可选。填充字符串。如果在填充过程中发现用不完这一整个填充字符串，则优先用左侧部分，能用多少用多少。默认值为空格"],tip:"ES7"},padEnd:{usage:"padEnd() 方法会用第二个参数中指定的填充字符串，在当前字符串的尾部不断填充，直到它达到第一个参数中指定的目标长度。",grammar:"str.padEnd(targetLength [, padString])",paramTypes:["Number","String"],paramUsages:["当前字符串需要填充到的目标长度。如果当前字符串原本就达到了该长度，那么该方法什么都不会做，直接返回原字符串。","可选。填充字符串。如果在填充过程中发现用不完这一整个填充字符串，则优先用左侧部分，能用多少用多少。默认值为空格"],tip:"ES7"}}},"4rmc":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",{staticClass:"jianli-title"},[e._v("\n      socket\n    ")]),e._v(" "),s("p",{staticClass:"jianli-tip"},[e._v("\n      socket是客户端和服务端的双向通信连接，实现数据交换，较\n      "),s("Inner",{attrs:{name:"ajax"}}),e._v("\n      而言更加方便高效。下文为在express中使用socket的案例，即五子棋，源码\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/bin/server.js"}})],1),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      1.express中使用socket.io来使用socket，并使用session中间件来允许在socket中使用\n      "),s("Inner",{attrs:{name:"session"}})],1),e._v(" "),s("More",{attrs:{code:"var app = require('../app').app; // app 为 express();\nvar http = require('http');\nvar server = http.Server(app);\nvar io = require('socket.io')(server)\nvar sessionMiddleware = require('../app').sessionMiddleware;\n\nio.use(function(socket, next) {\n  sessionMiddleware(socket.request, socket.request.res, next);\n});\n"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      2.客户端连接后，触发服务端'connection'事件\n    ")]),e._v(" "),s("More",{attrs:{code:"let iog = io.of('gomoku')\niog.on('connection', function (socket) {\n  // 中间件: 未登录&未进入房间\n  socket.use((packet, next) => {\n    if (/**/) {\n      /**/\n    } else {\n      next()\n    }\n  })\n  /*... 其他操作*/\n})\n"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      3.客户端'emit'发出事件,服务端'on'响应事件\n    ")]),e._v(" "),s("More",{attrs:{code:"// 客户端\n// 落子{r,c},发出'move'事件\nthis.socket.emit('move', {r,c})\n\n// 服务端\n// 响应'move'事件\n  socket.on('move', o => {\n    /*...逻辑代码,其中o即{r,c}*/ \n  })\n"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      4.相对的，服务端'emit'发出事件,客户端'on'响应事件\n    ")]),e._v(" "),s("More",{attrs:{code:"// 服务端\n// 检测o.r为空，发出'err'事件\n  socket.on('move', o => {\n    if (!o.r) {\n      socket.emit('err',{name: 'move', text: 'no r'})\n      return\n    }\n    /*...其他逻辑代码*/ \n  })\n\n// 客户端\n// 响应'err'事件,打印错误\n  this.socket.on('err', o=> {\n    console.log('err',o)\n  })\n"}})],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},"53r5":function(e,t,s){"use strict";var a=s("tSgn"),n=s("MN49"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},"6NXj":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",{staticClass:"jianli-title"},[e._v("爬虫")]),e._v(" "),s("p",{staticClass:"jianli-tip"},[e._v("\n      爬虫（crawler），是一种按照一定的规则，自动地抓取互联网信息的程序。\n      本例为本人2015年底在\n      "),s("Outer",{attrs:{href:"https://movie.douban.com/tv/#!type=tv&tag=%E6%97%A5%E5%89%A7&sort=recommend&page_limit=20&page_start=0",text:"豆瓣热门日本动画"}}),e._v("\n      的爬虫, 后来我将爬虫所得的数据改写成一个\n      "),s("Outer",{attrs:{href:"http://182.254.151.128/animes#/",text:"数据展示页"}}),e._v(",\n      "),s("Github",{attrs:{href:"https://github.com/haizai/crawler/blob/master/douban-anime/app.js"}})],1),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n        1.分析所要爬虫的网页，将所有网页地址整理成字符串数组。\n      ")]),e._v(" "),s("More",{attrs:{code:"function getUrls(num) {\n  var urlLeft = 'https://movie.douban.com/j/search_subjects?type=tv&tag=%E6%97%A5%E6%9C%AC%E5%8A%A8%E7%94%BB&sort=recommend&page_limit=20&page_start='\n  var arr = []\n  for (let i = 0; i < num; i++) {\n    arr.push(urlLeft + (i)*20)\n  }\n  return arr\n}"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n        2.使用superagent库，进行爬取页面。\n      ")]),e._v(" "),s("More",{attrs:{code:"var superagent = require('superagent')\n/*......*/\nlet url = `https://movie.douban.com/subject/${id}/`\nsuperagent.get(url)"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n        3.分析单个页面结构，使用cheerio库进行类jQuery处理，记录需要的数据。\n      ")]),e._v(" "),s("More",{attrs:{code:"var $ = cheerio.load(txt);\nvar movie = {}\nmovie.year = $('#content h1 span').eq(1).text().replace(/[()]/g,'')\nmovie.summary = $('#link-report').text().trim()\nmovie.comments = []\n$('#comments-section #hot-comments p').each(function() {\n  movie.comments.push($(this).text())\n})\n/*......*/"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n        4.若需要保存图片，使用pipe(fs.createWriteStream(dir))来保存可写流。\n      ")]),e._v(" "),s("More",{attrs:{code:"var downloadImg = function(src, id){\n  var filename = id + src.match(/.\\w+$/)[0]\n  superagent.get(src).pipe(fs.createWriteStream(__dirname + '/_images/id/' + filename))\n};"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      5.将所需要的数据，输出为json文件，并保存在本地。\n    ")]),e._v(" "),s("More",{attrs:{code:"fs.writeFileSync(path.join(__dirname, '_data','id' ,val.id+'.json'), JSON.stringify(val, null, 2))"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      使用co库，便于异步操作。\n    ")]),e._v(" "),s("More",{attrs:{code:"var co = require('co')\n  co(function* (){\n\n    //发送get请求返回res\n    var res = yield superagent.get(url)\n\n    //获取movie对象数据\n    var movie = yield getMovie(id, res.text)\n\n    //movie.reviews每一个id发送get请求获得review的res\n    var reviews = yield movie.reviews.map(reviewId => {\n      var src = `https://movie.douban.com/review/${reviewId}/`\n      return superagent.get(src)\n    })\n\n    //将review的res转化为movie.reviews\n    movie.reviews = getReview(reviews)\n\n    return movie\n  }).then(val => {\n    /*......*/\n  },err => console.log('err',err))\n"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      使用async库,便于控制并行数和延迟。\n    ")]),e._v(" "),s("More",{attrs:{code:"var async = require('async')\nasync.mapLimit(ids, 3, (id, cb) => {\n  init(id, cb)\n},err => {/*......*/})\n\nvar init = function(id, cb) {\n  var start = +new Date()\n  /*......*/\n  setTimeout(()=> {\n    if (cb) cb()\n  },+new Date() - start + 5000)\n}"}})],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},"6Tf8":function(e,t){},"6VpE":function(e,t){},"7CTN":function(e,t,s){"use strict";var a=s("Ad8C"),n=s("s20S"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},"7U4p":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sect"},[s("div",{staticClass:"sect-container"},[s("div",{staticClass:"sect-item",staticStyle:{"border-left":"1px solid #abb"}},[s("i",{staticClass:"sect-icon icon-concise"}),e._v(" "),s("h2",{staticClass:"sect-item-title"},[e._v("极简风格")]),e._v(" "),s("p",{staticClass:"sect-item-p"},[e._v("整个主页垂直方向分成不同色块")])]),e._v(" "),s("div",{staticClass:"sect-item"},[s("i",{staticClass:"sect-icon icon-responsive"}),e._v(" "),s("h2",{staticClass:"sect-item-title"},[e._v("响应式布局")]),e._v(" "),s("p",{staticClass:"sect-item-p"},[e._v("电脑，平板，手机都有较好的效果")]),e._v(" "),s("p",{staticClass:"sect-item-p"},[e._v("使用css的@media功能进行宽度适配")])]),e._v(" "),s("div",{staticClass:"sect-item"},[s("i",{staticClass:"sect-icon icon-user"}),e._v(" "),s("h2",{staticClass:"sect-item-title"},[e._v("用户系统")]),e._v(" "),s("p",{staticClass:"sect-item-p"},[e._v("支持用户注册，登录等操作")]),e._v(" "),s("p",{staticClass:"sect-item-p"},[e._v("数据储存在mongodb数据库上")])]),e._v(" "),s("div",{staticClass:"sect-item"},[s("i",{staticClass:"sect-icon icon-github"}),e._v(" "),s("h2",{staticClass:"sect-item-title"},[e._v("代码开源")]),e._v(" "),s("p",{staticClass:"sect-item-p"},[e._v("全部页面代码都在GitHub上开源")]),e._v(" "),s("p",{staticClass:"sect-item-p"},[e._v("服务器与数据库架在腾讯云上")])])])])}],r={render:a,staticRenderFns:n};t.a=r},"7iae":function(e,t,s){"use strict";var a=s("MlJF"),n=s("uIJA"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},"7zey":function(e,t,s){"use strict";var a=s("DtMp"),n=s("YTFC"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},Ad8C:function(e,t,s){"use strict";var a=s("1qE6"),n=s("czvH"),r=s("Q8SE"),i=s("bis3"),o=s("DX1u"),c=s.n(o);t.a={components:{More:a.a,Github:n.a,Inner:r.a,Outer:i.a},methods:{highlight:function(e){return c.a.highlight(e,c.a.languages.javascript)}}}},C3NG:function(e,t,s){"use strict";t.a={toString:{usage:"toString() 方法返回指定 Number 对象的字符串表示形式。",grammar:"num.toString([radix])",paramTypes:["Number"],paramUsages:["指定要用于数字到字符串的转换的基数(从2到36)。如果未指定 radix 参数，则默认值为 10"]},toFixed:{usage:"toFixed() 方法使用定点表示法来四舍五入格式化一个数。",grammar:"num.toFixed(digits)",paramTypes:["Number"],paramUsages:["小数点后数字的个数；介于 0 到 20 （包括）之间，实现环境可能支持更大范围。如果忽略该参数，则默认为 0。"]},toExponential:{usage:"toExponential() 方法以指数表示法返回该数值字符串表示形式。",grammar:"num.toExponential(fractionDigits)",paramTypes:["Number"],paramUsages:["可选。一个整数，用来指定小数点后有几位数字。默认情况下用尽可能多的位数来显示数字。"]},toPrecision:{usage:"toPrecision() 方法以指定的精度返回该数值对象的字符串表示。",grammar:"num.toPrecision(precision)",paramTypes:["Number"],paramUsages:["可选。一个用来指定有效数个数的整数。"]}}},CJ4q:function(e,t){},Cph6:function(e,t,s){"use strict";t.a={name:"nav",data:function(){return{jianliHover:!1,cssHover:!1,gameHover:!1,gomokuHover:!1,phoneMoreShow:!1,jianliIn:!1,cssIn:!1,gameIn:!1,gomokuIn:!1}},watch:{}}},DtMp:function(e,t,s){"use strict";var a=s("uL8o"),n=s("nq5D");t.a={name:"container",components:{Nav_:a.a,Foot:n.a}}},FAuN:function(e,t,s){"use strict";var a=s("RMyW"),n=s("ZwCg"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},GA8i:function(e,t,s){"use strict";var a=s("1qE6"),n=s("czvH"),r=s("DX1u"),i=s.n(r);t.a={components:{More:a.a,Github:n.a},methods:{highlight:function(e){return i.a.highlight(e,i.a.languages.javascript)}}}},HcO6:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"api-string"},[s("div",{staticClass:"api-main"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.clazz,expression:"clazz"}],staticClass:"api-methods",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.clazz=t.target.multiple?s:s[0]},function(t){e.toggleClazz()}]}},e._l(e.allClazz,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),s("h2",{staticClass:"api-title",on:{click:e.log}},[e._v(e._s(e.clazz)+"."+e._s(e.method)+"()\n\n      "),s("span",{directives:[{name:"show",rawName:"v-show",value:e.tip,expression:"tip"}],staticClass:"api-tip"},[e._v(e._s(e.tip))])]),e._v(" "),s("p",{staticClass:"api-usage"},[e._v(e._s(e.usage))]),e._v(" "),s("p",{staticClass:"api-grammar"},[e._v(e._s(e.grammar))]),e._v(" "),s("p",{staticClass:"api-code"},[e._v(e._s(e.code))]),e._v(" "),s("p",[s("span",{directives:[{name:"show",rawName:"v-show",value:"String.prototype"===e.clazz,expression:"clazz === 'String.prototype'"}],staticClass:"api-quotation"},[e._v('"')]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"val"}],staticClass:"api-input",attrs:{type:"text"},domProps:{value:e.val},on:{input:[function(t){t.target.composing||(e.val=t.target.value)},e.run]}}),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:"String.prototype"===e.clazz,expression:"clazz === 'String.prototype'"}],staticClass:"api-quotation"},[e._v('"')]),e._v(" "),s("span",{staticClass:"api-point"},[e._v(".")]),e._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:e.method,expression:"method"}],staticClass:"api-methods",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.method=t.target.multiple?s:s[0]},function(t){e.toggleMethod()}]}},e._l(e.allMethods,function(t){return s("option",{domProps:{value:t}},[e._v(e._s(t))])})),e._v(" "),s("span",{staticClass:"api-sign"},[e._v("(")]),e._v(" "),e._l(e.paramCount,function(t){return 1==t||e.params[t-2]&&!e.isParamInfinite?s("span",[1!==t?s("span",{staticClass:"api-sign"},[e._v(",")]):e._e(),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.params[t-1],expression:"params[n-1]"}],staticClass:"api-param",attrs:{type:"text"},domProps:{value:e.params[t-1]},on:{input:[function(s){s.target.composing||e.$set(e.params,t-1,s.target.value)},function(s){e.paramInput(t-1)}],focus:function(s){e.paramActive=t-1},blur:function(t){e.paramActive=null}}})]):e._e()}),e._v(" "),e._l(10,function(t){return e.isParamInfinite&&e.params[t-2]?s("span",[1!==t?s("span",{staticClass:"api-sign"},[e._v(",")]):e._e(),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.params[t-1],expression:"params[n-1]"}],staticClass:"api-param",attrs:{type:"text"},domProps:{value:e.params[t-1]},on:{input:[function(s){s.target.composing||e.$set(e.params,t-1,s.target.value)},function(s){e.paramInput(t-1)}],focus:function(s){e.paramActive=t-1},blur:function(t){e.paramActive=null}}})]):e._e()}),e._v(" "),s("span",{staticClass:"api-sign",staticStyle:{"margin-right":"20px"}},[e._v(")")]),e._v(" "),s("span",{staticClass:"api-output"},[e._v(e._s(e.output))])],2),e._v(" "),e.isParamInfinite?e._e():s("p",{directives:[{name:"show",rawName:"v-show",value:null!==e.paramActive,expression:"paramActive!==null"}],staticClass:"api-param-usage"},[s("span",{staticClass:"api-param-type"},[e._v(e._s(e.paramTypes[e.paramActive]))]),e._v("\n      "+e._s(e.paramUsages[e.paramActive])+"\n    ")]),e._v(" "),e.isParamInfinite?s("p",{directives:[{name:"show",rawName:"v-show",value:null!==e.paramActive,expression:"paramActive!==null"}],staticClass:"api-param-usage"},[s("span",{staticClass:"api-param-type"},[e._v(e._s(e.paramTypes[0]))]),e._v("\n      "+e._s(e.paramUsages[0])+"\n    ")]):e._e(),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:e.errText,expression:"errText"}],staticClass:"api-param-error"},[e._v(e._s(e.errText))])])])},n=[],r={render:a,staticRenderFns:n};t.a=r},KaDG:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"jianli"}},[s("router-view")],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},LWYD:function(e,t,s){"use strict";var a=s("1qE6"),n=s("czvH"),r=s("Q8SE"),i=s("bis3"),o=s("DX1u"),c=s.n(o);t.a={components:{More:a.a,Github:n.a,Inner:r.a,Outer:i.a},methods:{highlight:function(e){return c.a.highlight(e,c.a.languages.javascript)}}}},M93x:function(e,t,s){"use strict";function a(e){s("VrSb")}var n=s("dT0j"),r=s("kIKH"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},MN49:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",{staticClass:"jianli-title"},[e._v("\n      ajax\n    ")]),e._v(" "),s("p",{staticClass:"jianli-tip"},[e._v("\n      Ajax，是客户端和服务器的非阻塞的交互方式，可以在不重新加载整个网页的情况下，对网页的一部分进行一部更新。\n    ")]),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      1.ajax跨域，通过设置一些响应头来实现。\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/routes/index.js"}})],1),e._v(" "),s("More",{attrs:{code:"var express = require('express');\nvar router = express.Router();\nrouter.all('*',(req,res,next)=> {\n  if (process.env.NODE_ENV === 'dev') {\n    res.header('Access-Control-Allow-Origin', 'http://localhost:8080');\n    res.header('Access-Control-Allow-Headers', 'Content-Type, Content-Length, Authorization, Accept, X-Requested-With , yourHeaderFeild');\n    res.header('Access-Control-Allow-Methods', '*');\n  }\n  next()\n})"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      2.Get方法用于获取数据，\n      "),s("Outer",{attrs:{href:"http://182.254.151.128/animes#/keyword=a&page=1&range=person&sort=value",text:"客户端"}}),e._v("使用?query1=data1&query2=data2的形式,服务端具体过程见\n      "),s("Inner",{attrs:{name:"mongodb"}}),e._v("第6条\n    ")],1),e._v(" "),s("More",{attrs:{code:"//客户端\n?keyword=a&page=1&range=person&sort=value\n\n//服务端\nrouter.get('/animes', (req, res) => {\n  /**.....\n   * req.query --\x3e {keyword:'a',page:1,range:'person',sort:'value'}\n   * 对req.query进行处理并返回结果给客户端\n   */\n})"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      3.Post方法用于提交数据。下例为用户系统中设置性别。\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/routes/ajax/user.js"}})],1),e._v(" "),s("More",{attrs:{code:"//客户端 vue中的methods\nsetSex() {\n  this.$http.post(this.urlPrefix + 'setSex',{sex: this.user.msg.sex}).then( res => {\n    res.body.state == 1 ? tip('性别修改成功') : tip('性别修改失败','err')\n  })\n},\n\n//服务端\nrouter.post('/setSex', (req, res) => {\n  if (!req.session.isLogin) {\n    send(req, res, {state:2001}) //尚未登入\n    return\n  }\n  if (!req.body.sex) {\n    send(req, res, {state:1001}) //性别为空\n    return\n  }\n  if (req.body.sex != 'secret' && req.body.sex != 'male' && req.body.sex != 'female' && req.body.sex != 'other' ) {\n    send(req, res, {state:1002}) //性别不为给定值\n    return\n  }\n  User.update({account: req.session.user.account},{$set: {'msg.sex': req.body.sex}}, err => {\n    if (err) {\n      console.log(__dirname,' Error:\\n', err)\n      send(req, res, {state:3001}) //数据库更新错误\n      return\n    }\n    req.session.user.msg.sex = req.body.sex\n    send(req, res, {state:1}) //成功\n  })\n})"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      4.Post方法还可以传输文件。客户端\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/views/file.ejs"}}),e._v('\n      使用type="file"的input,\n      服务端\n      '),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/routes/ajax/file.js"}}),e._v("\n      使用formidable库。\n    ")],1),e._v(" "),s("More",{attrs:{code:"// 客户端 jQuery语法\n<div id='div'>\n  <p>password:<input type='text'></p>\n  <p><input type='file' multiple='multiple'></p>\n  <p><input type='button' value='上传'></p>\n</div>\n<pre id='info'></pre>\n<script src='js/common/jquery-3.1.1.min.js'><\/script>\n<script>\n  $('#div [type=button]').on('click', function() {\n    if($('#div [type=file]').val() == '') {\n      $('#info').text('error! \\n\\n no file')\n      return\n    }\n    var formData = new FormData();\n    formData.append('file', $('#div [type=file]')[0].files[0]);\n    $.ajax({\n      url: '/ajax/file?password=' + $('#div [type=text]').val(),\n      type: 'POST',\n      cache: false,\n      data: formData,\n      processData: false,\n      contentType: false,\n      success: function(XHR) {\n        $('#info').text(XHR)\n      }\n    })\n  })\n<\/script>\n\n// 服务端\nvar formidable = require('formidable') \nrouter.post('/file', (req, res) => {\n\n  var form = new formidable.IncomingForm();\n  form.encoding = 'utf-8';\n  form.keepExtensions = true;\n  form.uploadDir = path.resolve(__dirname,'..','..','..','upload/')\n\n  form.parse(req, (err, fields, files) => {\n    if (!files.file || files.file.size === 0) {\n      res.send('error! \\n\\n no file')\n      return\n    }\n    var dir = path.normalize(files.file.path)\n    fs.exists(dir, exists=>{\n      if (exists)\n      fs.rename(dir, path.join(path.dirname(dir), files.file.name))\n    })\n    res.send('success! \\n\\n'+util.inspect({fields, files}))\n  });\n  return\n})\n    "}})],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},MlJF:function(e,t,s){"use strict";var a=s("ktLB"),n=s("UBZ4"),r=s("ogzU"),i=s("FAuN"),o=s("eCgj"),c=s("O3hH");t.a={name:"index",components:{Carousel:o.a,Todos:a.a,Animes:n.a,Game:i.a,Gomoku:r.a,Sect:c.a}}},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("gt1m"),n=s("M93x"),r=s("YaEn"),i=s("6VpE"),o=(s.n(i),s("Wn7L"));s.n(o);a.a.config.productionTip=!1,new a.a({el:"#app",router:r.a,template:"<App/>",components:{App:n.a}})},NNvV:function(e,t){},NSMC:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"animes"},[s("h2",{staticClass:"animes-title"},[e._v("动画爬虫及数据展现")]),e._v(" "),e._m(0),e._v(" "),s("div",{staticClass:"animes-search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"animes-input-keyword",attrs:{type:"text",placeholder:"动画名称，导演，声优等"},domProps:{value:e.keyword},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.search()},input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),e._v(" "),s("input",{staticClass:"animes-input-search",attrs:{type:"button",value:"搜索"},on:{click:function(t){e.search()}}})]),e._v(" "),s("div",{staticClass:"animes-box-container"},[s("div",{staticClass:"animes-box"},[s("div",{staticClass:"animes-item",on:{mouseenter:function(t){e.hover1=!0},mouseleave:function(t){e.hover1=!1}}},[s("div",{staticClass:"animes-image animes-image-1463371"}),e._v(" "),s("div",{staticClass:"animes-item-bg",class:{"animes-item-bg-hover":e.hover1}}),e._v(" "),s("h3",{staticClass:"animes-item-title",class:{"animes-item-title-hover":e.hover1}},[e._v("名侦探柯南")]),e._v(" "),s("p",{staticClass:"animes-item-info",class:{"animes-item-info-hover":e.hover1}},[e._v("「名探偵コナン」\n        "),s("br"),e._v("青山刚昌创作的侦探漫画改编")]),e._v(" "),s("p",{staticClass:"animes-item-more",class:{"animes-item-more-hover":e.hover1}},[s("a",{attrs:{href:"/animes#/1463371"}},[e._v("查看详情")])])]),e._v(" "),s("div",{staticClass:"animes-item",on:{mouseenter:function(t){e.hover2=!0},mouseleave:function(t){e.hover2=!1}}},[s("div",{staticClass:"animes-image animes-image-1457573"}),e._v(" "),s("div",{staticClass:"animes-item-bg",class:{"animes-item-bg-hover":e.hover2},staticStyle:{opacity:"0.85"}}),e._v(" "),s("h3",{staticClass:"animes-item-title",class:{"animes-item-title-hover":e.hover2}},[e._v("新世纪福音战士")]),e._v(" "),s("p",{staticClass:"animes-item-info",class:{"animes-item-info-hover":e.hover2}},[e._v("「新世紀エヴァンゲリオン」"),s("br"),e._v("由龙之子工作室、GAINAX共同制作")]),e._v(" "),s("p",{staticClass:"animes-item-more",class:{"animes-item-more-hover":e.hover2}},[s("a",{attrs:{href:"/animes#/1457573"}},[e._v("查看详情")])])]),e._v(" "),s("div",{staticClass:"animes-item",on:{mouseenter:function(t){e.hover3=!0},mouseleave:function(t){e.hover3=!1}}},[s("div",{staticClass:"animes-image animes-image-5397537"}),e._v(" "),s("div",{staticClass:"animes-item-bg",class:{"animes-item-bg-hover":e.hover3}}),e._v(" "),s("h3",{staticClass:"animes-item-title",class:{"animes-item-title-hover":e.hover3}},[e._v("未闻花名")]),e._v(" "),s("p",{staticClass:"animes-item-info",class:{"animes-item-info-hover":e.hover3}},[e._v("「あの日見た花の名前を\n        "),s("br"),e._v("僕達はまだ知らない。」")]),e._v(" "),s("p",{staticClass:"animes-item-more",class:{"animes-item-more-hover":e.hover3}},[s("a",{attrs:{href:"/animes#/5397537"}},[e._v("查看详情")])])]),e._v(" "),s("div",{staticClass:"animes-item",on:{mouseenter:function(t){e.hover4=!0},mouseleave:function(t){e.hover4=!1}}},[s("div",{staticClass:"animes-image animes-image-2043155"}),e._v(" "),s("div",{staticClass:"animes-item-bg",class:{"animes-item-bg-hover":e.hover4},staticStyle:{opacity:"0.85"}}),e._v(" "),s("h3",{staticClass:"animes-item-title",class:{"animes-item-title-hover":e.hover4}},[e._v("反叛的鲁路修")]),e._v(" "),s("p",{staticClass:"animes-item-info",class:{"animes-item-info-hover":e.hover4}},[e._v("「コードギアス 反逆のルルーシュ」\n        "),s("br"),e._v("SUNRISE制作的原创动画")]),e._v(" "),s("p",{staticClass:"animes-item-more",class:{"animes-item-more-hover":e.hover4}},[s("a",{attrs:{href:"/animes#/2043155"}},[e._v("查看详情")])])]),e._v(" "),s("div",{staticClass:"animes-item animes-small-item",on:{mouseenter:function(t){e.hover5=!0},mouseleave:function(t){e.hover5=!1}}},[s("div",{staticClass:"animes-image animes-image-5349275"}),e._v(" "),s("div",{staticClass:"animes-item-bg",class:{"animes-item-bg-hover":e.hover5}}),e._v(" "),s("h3",{staticClass:"animes-item-title",class:{"animes-item-title-hover":e.hover5}},[e._v("魔法少女小圆")]),e._v(" "),s("p",{staticClass:"animes-item-info",class:{"animes-item-info-hover":e.hover5}},[e._v("「魔法少女まどか☆マギカ」\n        "),s("br"),e._v("新房昭之执导的原创动画")]),e._v(" "),s("p",{staticClass:"animes-item-more",class:{"animes-item-more-hover":e.hover5}},[s("a",{attrs:{href:"/animes#/5349275"}},[e._v("查看详情")])])])])])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"animes-info"},[e._v("数据来源 —— "),s("a",{attrs:{href:""}},[e._v("2016年11月豆瓣爬虫")])])}],r={render:a,staticRenderFns:n};t.a=r},O3hH:function(e,t,s){"use strict";function a(e){s("6Tf8")}var n=s("nfc6"),r=s("7U4p"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},ODue:function(e,t,s){"use strict";var a=s("RZVZ"),n=s("4rmc"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},OH7K:function(e,t,s){"use strict";t.a={props:["href","text"]}},"P+Xj":function(e,t){},Q8SE:function(e,t,s){"use strict";var a=s("Wqac"),n=s("dQ1M"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},"QxE/":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",{staticClass:"jianli-title"},[e._v("\n      ejs\n    ")]),e._v(" "),s("p",{staticClass:"jianli-tip"},[e._v("\n      ejs是express默认的模板引擎，兼容HTML，常用于服务端渲染。\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/views"}})],1),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      1.在路由中使用render函数可以渲染html并传递变量\n    ")]),e._v(" "),s("More",{attrs:{code:"// 路由 ，传递{title}\nrouter.get('/' + title, function(req, res, next) {\n  res.render('default', { title })\n});\n\n// default.ejs ，title被传递至此\n<script src=<%= 'js/default/' + title + '.js' %> ><\/script>\n"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      2.使用<% ~js code~ %>来控制流，<%= ~js code~ %> 输出为html\n    ")]),e._v(" "),s("More",{attrs:{code:"// head.ejs\n<% var title = title || null, NODE_ENV = NODE_ENV || null %>\n<title><%= title %></title>"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      3.可以使用if else 控制复杂的逻辑代码\n    ")]),e._v(" "),s("More",{attrs:{code:"// header.ejs\n<div class=\"header-title\n  <%if(title == 'index'){%>\n    <%=' header-active'%>\n  <%}%>\">\n</div>\n\n// index.ejs\n<script \n  src=\"<% if (NODE_ENV == 'dev') { %>\n    <%='http://localhost/index.bundle.js'%>\n  <%} else {%>\n    <%='js/index/index.bundle.js'%>\n  <%}%>\"\n>"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      4.使用<%- include(路径) %>来包含其他ejs模板\n    ")]),e._v(" "),s("More",{attrs:{code:"// error.ejs\n<!DOCTYPE html>\n<html>\n<head>\n  <%- include('head'); %>\n</head>\n<body>\n  <%- include('header') %>\n  <h1><%= message %></h1>\n  <h2><%= error.status %></h2>\n  <pre><%= error.stack %></pre>\n</body>\n</html>\n\n//head.ejs\n<% var title = title || null, NODE_ENV = NODE_ENV || null %>\n<meta name='renderer' content='webkit'/>\n<meta charset='utf-8'/>\n<meta http-equiv='X-UA-Compatible' content='IE=edge'/>\n<link rel='shortcut icon' href='/favicon.ico'/>\n<link rel='stylesheet' href='/css/reset.css'/>\n<link rel='stylesheet' href='/css/header.css'/>\n<link rel='stylesheet' href='/css/lowie.css'>\n<script src='js/common/baidu-tongji.js'><\/script>\n<title><%= title %></title>\n"}})],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},RMyW:function(e,t,s){"use strict";t.a={name:"game"}},RZVZ:function(e,t,s){"use strict";var a=s("1qE6"),n=s("czvH"),r=s("Q8SE"),i=s("bis3"),o=s("DX1u"),c=s.n(o);t.a={components:{More:a.a,Github:n.a,Inner:r.a,Outer:i.a},methods:{highlight:function(e){return c.a.highlight(e,c.a.languages.javascript)}}}},T1vp:function(e,t){},TxW1:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"foot"},[e._v("\n  2016-2017 \n  Haizai \n  "),s("span",{staticClass:"foot-right"},[e._v("返回旧版")])])}],r={render:a,staticRenderFns:n};t.a=r},UBZ4:function(e,t,s){"use strict";function a(e){s("iaYG")}var n=s("tDYX"),r=s("NSMC"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},UW8k:function(e,t,s){"use strict";t.a={name:"gomoku",data:function(){return{singleHover:!1,doubleHover:!1,aiHover:!1,active:"s",styleNormal:{color:"#333"},styleHover:{color:"#1296db"},barLeft:"0"}},watch:{active:function(e){switch(e){case"s":this.barLeft="0%";break;case"d":this.barLeft="33.333%";break;case"a":this.barLeft="66.667%"}}},methods:{log:function(){console.log(this)}}}},VhWw:function(e,t,s){"use strict";t.a={props:["href"]}},VrSb:function(e,t){},Wn7L:function(e,t){},Wqac:function(e,t,s){"use strict";t.a={props:["name"]}},XBbk:function(e,t,s){"use strict";var a=s("GA8i"),n=s("tjeT"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},XWpW:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"nav"},[s("a",{staticClass:"nav-title",attrs:{a:"",href:"./alpha"}},[e._v("Haizainaive")]),e._v(" "),s("ul",{staticClass:"nav-pc"},[s("li",{staticClass:"nav-pc-item",on:{mouseenter:function(t){e.jianliHover=!0},mouseleave:function(t){e.jianliHover=!1}}},[s("span",{class:{"nav-pc-item-name-hover":e.jianliHover}},[e._v("技术栈")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.jianliHover,expression:"jianliHover"}],staticClass:"nav-pc-item-more"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5)])]),e._v(" "),s("li",{staticClass:"nav-pc-item",on:{mouseenter:function(t){e.cssHover=!0},mouseleave:function(t){e.cssHover=!1}}},[s("span",{class:{"nav-pc-item-name-hover":e.cssHover}},[e._v("css案例")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.cssHover,expression:"cssHover"}],staticClass:"nav-pc-item-more"},[e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9)])]),e._v(" "),s("li",{staticClass:"nav-pc-item",on:{mouseenter:function(t){e.gameHover=!0},mouseleave:function(t){e.gameHover=!1}}},[s("span",{class:{"nav-pc-item-name-hover":e.gameHover}},[e._v("小游戏")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.gameHover,expression:"gameHover"}],staticClass:"nav-pc-item-more"},[e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12)])]),e._v(" "),s("li",{staticClass:"nav-pc-item",on:{mouseenter:function(t){e.gomokuHover=!0},mouseleave:function(t){e.gomokuHover=!1}}},[s("span",{class:{"nav-pc-item-name-hover":e.gomokuHover}},[e._v("五子棋")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.gomokuHover,expression:"gomokuHover"}],staticClass:"nav-pc-item-more"},[e._m(13),e._v(" "),e._m(14),e._v(" "),e._m(15)])]),e._v(" "),e._m(16)]),e._v(" "),s("i",{staticClass:"nav-right-icon",class:e.phoneMoreShow?"icon-close":"icon-category",on:{click:function(t){e.phoneMoreShow=!e.phoneMoreShow}}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.phoneMoreShow,expression:"phoneMoreShow"}],staticClass:"nav-phone"},[s("div",{staticClass:"nav-phone-1",on:{click:function(t){e.jianliIn=!e.jianliIn}}},[e._v("技术栈\n  \t\t"),s("i",{staticClass:"nav-phone-icon",class:e.jianliIn?"icon-bottom":"icon-top"})]),e._v(" "),s("a",{attrs:{href:"./alpha#/jianli/ajax"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.jianliIn,expression:"jianliIn"}],staticClass:"nav-phone-2"},[e._v("ajax")])]),e._v(" "),s("a",{attrs:{href:"./alpha#/jianli/session"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.jianliIn,expression:"jianliIn"}],staticClass:"nav-phone-2"},[e._v("session")])]),e._v(" "),s("a",{attrs:{href:"./alpha#/jianli/crawler"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.jianliIn,expression:"jianliIn"}],staticClass:"nav-phone-2"},[e._v("爬虫")])]),e._v(" "),s("a",{attrs:{href:"./alpha#/jianli/ejs"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.jianliIn,expression:"jianliIn"}],staticClass:"nav-phone-2"},[e._v("ejs模板引擎")])]),e._v(" "),s("a",{attrs:{href:"./alpha#/jianli/mongodb"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.jianliIn,expression:"jianliIn"}],staticClass:"nav-phone-2"},[e._v("mongodb数据库")])]),e._v(" "),s("a",{attrs:{href:"./alpha#/jianli/socket"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.jianliIn,expression:"jianliIn"}],staticClass:"nav-phone-2"},[e._v("socket")])]),e._v(" "),s("div",{staticClass:"nav-phone-1",on:{click:function(t){e.cssIn=!e.cssIn}}},[e._v("css案例 \n  \t\t"),s("i",{staticClass:"nav-phone-icon",class:e.cssIn?"icon-bottom":"icon-top"})]),e._v(" "),s("a",{attrs:{href:"/demo/flex/flex.html"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.cssIn,expression:"cssIn"}],staticClass:"nav-phone-2"},[e._v("flex布局")])]),e._v(" "),s("a",{attrs:{href:"/demo/transform/dist/index.html"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.cssIn,expression:"cssIn"}],staticClass:"nav-phone-2"},[e._v("transform矩阵变换")])]),e._v(" "),s("a",{attrs:{href:"/demo/center/center.html"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.cssIn,expression:"cssIn"}],staticClass:"nav-phone-2"},[e._v("css居中方案")])]),e._v(" "),s("a",{attrs:{href:"/demo/colorPicker/colorPicker.html"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.cssIn,expression:"cssIn"}],staticClass:"nav-phone-2"},[e._v("color获取器")])]),e._v(" "),s("div",{staticClass:"nav-phone-1",on:{click:function(t){e.gameIn=!e.gameIn}}},[e._v("小游戏 \n  \t\t"),s("i",{staticClass:"nav-phone-icon",class:e.gameIn?"icon-bottom":"icon-top"})]),e._v(" "),s("a",{attrs:{href:"/demo/sokoban/game.html"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.gameIn,expression:"gameIn"}],staticClass:"nav-phone-2"},[e._v("扫雷")])]),e._v(" "),s("a",{attrs:{href:"/demo/minesweeper/game.html"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.gameIn,expression:"gameIn"}],staticClass:"nav-phone-2"},[e._v("推箱子")])]),e._v(" "),s("a",{attrs:{href:"/demo/touhou/index.html"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.gameIn,expression:"gameIn"}],staticClass:"nav-phone-2"},[e._v("类东方STG游戏")])]),e._v(" "),s("div",{staticClass:"nav-phone-1",on:{click:function(t){e.gomokuIn=!e.gomokuIn}}},[e._v("五子棋 \n  \t\t"),s("i",{staticClass:"nav-phone-icon",class:e.gomokuIn?"icon-bottom":"icon-top"})]),e._v(" "),s("a",{attrs:{href:"/gomoku#/outline"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.gomokuIn,expression:"gomokuIn"}],staticClass:"nav-phone-2"},[e._v("单人模式")])]),e._v(" "),s("a",{attrs:{href:"/gomoku#/online"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.gomokuIn,expression:"gomokuIn"}],staticClass:"nav-phone-2"},[e._v("联机模式")])]),e._v(" "),s("a",{attrs:{href:"/gomoku#/ai"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.gomokuIn,expression:"gomokuIn"}],staticClass:"nav-phone-2"},[e._v("人机对战")])])])])},n=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"./alpha#/jianli/ajax"}},[s("p",[e._v("ajax")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"./alpha#/jianli/session"}},[s("p",[e._v("session")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"./alpha#/jianli/crawler"}},[s("p",[e._v("爬虫")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"./alpha#/jianli/ejs"}},[s("p",[e._v("ejs模板引擎")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"./alpha#/jianli/mongodb"}},[s("p",[e._v("mongodb数据库")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"./alpha#/jianli/socket"}},[s("p",[e._v("socket")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/demo/flex/flex.html",target:"_blank"}},[s("p",[e._v("flex布局")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/demo/transform/dist/index.html",target:"_blank"}},[s("p",[e._v("transform矩阵变换")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/demo/center/center.html",target:"_blank"}},[s("p",[e._v("css居中方案")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/demo/colorPicker/colorPicker.html",target:"_blank"}},[s("p",[e._v("color获取器")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/demo/sokoban/game.html",target:"_blank"}},[s("p",[e._v("扫雷")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/demo/minesweeper/game.html",target:"_blank"}},[s("p",[e._v("推箱子")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/demo/touhou/index.html",target:"_blank"}},[s("p",[e._v("类东方STG游戏")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/gomoku#/outline"}},[s("p",[e._v("单人模式")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/gomoku#/online"}},[s("p",[e._v("联机模式")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"/gomoku#/ai"}},[s("p",[e._v("人机对战")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("a",{attrs:{href:"./"}},[e._v("返回主页")])])}],r={render:a,staticRenderFns:n};t.a=r},XgqK:function(e,t,s){"use strict";var a=s("Zgg8"),n=s("6NXj"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},YTFC:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("Nav_"),e._v(" "),s("router-view"),e._v(" "),s("Foot")],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},YaEn:function(e,t,s){"use strict";var a=s("gt1m"),n=s("nYn5"),r=s("7iae"),i=s("YzMe"),o=s("rQgl");a.a.use(n.a),t.a=new n.a({routes:[{path:"/",name:"Index",component:r.a},{path:"/api",name:"Api",component:i.a},o.a]})},YzMe:function(e,t,s){"use strict";function a(e){s("P+Xj")}var n=s("kho8"),r=s("ZmEg"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},Zgg8:function(e,t,s){"use strict";var a=s("1qE6"),n=s("czvH"),r=s("Q8SE"),i=s("bis3"),o=s("DX1u"),c=s.n(o);t.a={components:{More:a.a,Github:n.a,Inner:r.a,Outer:i.a},methods:{highlight:function(e){return c.a.highlight(e,c.a.languages.javascript)}}}},ZmEg:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"api"}},[s("String_")],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},ZwCg:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"game"})},n=[],r={render:a,staticRenderFns:n};t.a=r},bis3:function(e,t,s){"use strict";var a=s("OH7K"),n=s("pfix"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},bkz5:function(e,t){},czvH:function(e,t,s){"use strict";var a=s("VhWw"),n=s("oAxD"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},dQ1M:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"jianli-innerLink",attrs:{href:"./#/jianli/"+e.name}},[e._v(e._s(e.name))])},n=[],r={render:a,staticRenderFns:n};t.a=r},dT0j:function(e,t,s){"use strict";var a=s("7zey");t.a={name:"app",components:{Container:a.a}}},eCgj:function(e,t,s){"use strict";function a(e){s("CJ4q")}var n=s("q50d"),r=s("0aSr"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},"f+co":function(e,t,s){"use strict";var a=s("DX1u");t.a={props:["code"],methods:{highlight:function(e){return a.highlight(e,a.languages.javascript)}}}},goXQ:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"gomoku"},[s("div",{staticClass:"gomoku-bg"}),e._v(" "),s("h2",{staticClass:"gomoku-title",on:{click:function(t){e.log()}}},[e._v("五子棋")]),e._v(" "),s("div",{staticClass:"gomoku-nav"},[s("div",{staticClass:"gomoku-bar",style:{left:e.barLeft}}),e._v(" "),s("div",{staticClass:"gomoku-nav-item",on:{mouseenter:function(t){e.singleHover=!0},mouseleave:function(t){e.singleHover=!1},click:function(t){e.active="s"}}},[s("i",{staticClass:"icon-single",class:{"icon-single-hover":e.singleHover||"s"==e.active}}),e._v(" "),s("br"),e._v(" "),s("span",{style:e.singleHover||"s"==e.active?e.styleHover:e.styleNormal},[e._v("单人模式(无AI)")])]),e._v(" "),s("div",{staticClass:"gomoku-nav-item",on:{mouseenter:function(t){e.doubleHover=!0},mouseleave:function(t){e.doubleHover=!1},click:function(t){e.active="d"}}},[s("i",{staticClass:"icon-double",class:{"icon-double-hover":e.doubleHover||"d"==e.active}}),e._v(" "),s("br"),e._v(" "),s("span",{style:e.doubleHover||"d"==e.active?e.styleHover:e.styleNormal},[e._v("联机模式")])]),e._v(" "),s("div",{staticClass:"gomoku-nav-item",on:{mouseenter:function(t){e.aiHover=!0},mouseleave:function(t){e.aiHover=!1},click:function(t){e.active="a"}}},[s("i",{staticClass:"icon-ai",class:{"icon-ai-hover":e.aiHover||"a"==e.active}}),e._v(" "),s("br"),e._v(" "),s("span",{style:e.aiHover||"a"==e.active?e.styleHover:e.styleNormal},[e._v("人机对战(有AI)")])])]),e._v(" "),s("div",{staticClass:"gomoku-cont"},[s("div",{directives:[{name:"show",rawName:"v-show",value:"s"==e.active,expression:"active == 's'"}],staticClass:"gomoku-cont-item"},[e._v("\n      单人模式，黑白左右互搏。"),s("br"),e._v("\n      背景由canvans绘制，棋盘由15×15的格子标签构成。"),s("br"),e._v("\n      能正确判断胜负，支持悔棋等操作，是之后联机模式和人机对战的基础。"),s("br"),e._v(" "),s("a",{staticClass:"gomoku-more",attrs:{href:"/gomoku#/outline"}},[e._v("游玩单人模式")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"d"==e.active,expression:"active == 'd'"}],staticClass:"gomoku-cont-item"},[e._v("\n      联机模式，双人通关互联网对战。"),s("br"),e._v("\n      首先需要在本站注册/登录之后才能进行对战"),s("br"),e._v("\n      使用socket进行实时的联机及前后端交互"),s("br"),e._v("\n      除了正常的落子，还有求和，悔棋，认输等联机交互。"),s("br"),e._v(" "),s("a",{staticClass:"gomoku-more",attrs:{href:"/gomoku#/online"}},[e._v("游玩联机模式")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"a"==e.active,expression:"active == 'a'"}],staticClass:"gomoku-cont-item"},[e._v("\n      人机对战，自制简易AI。"),s("br"),e._v("\n      用一套自制的估值函数，使用极大极小值算法，并进行AlphaBeta剪枝"),s("br"),e._v("\n      由于性能与优化问题，只计算未来2步"),s("br"),e._v(" "),s("a",{staticClass:"gomoku-more",attrs:{href:"/gomoku#/ai"}},[e._v("游玩人机对战")])])])])},n=[],r={render:a,staticRenderFns:n};t.a=r},iaYG:function(e,t){},jDIe:function(e,t){},kIKH:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("Container")],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},kho8:function(e,t,s){"use strict";var a=s("+unz");t.a={name:"api",components:{String_:a.a}}},ktLB:function(e,t,s){"use strict";function a(e){s("bkz5")}var n=s("tjHR"),r=s("wqHE"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},nfc6:function(e,t,s){"use strict";t.a={name:"sect"}},nq5D:function(e,t,s){"use strict";function a(e){s("+/H/")}var n=s("/9DJ"),r=s("TxW1"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},oAxD:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"jianli-github",attrs:{target:"_black",href:e.href}},[e._v("github")])},n=[],r={render:a,staticRenderFns:n};t.a=r},ogzU:function(e,t,s){"use strict";function a(e){s("jDIe")}var n=s("UW8k"),r=s("goXQ"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},pfix:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("a",{staticClass:"jianli-outerLink",attrs:{target:"_black",href:e.href}},[e._v(e._s(e.text))])},n=[],r={render:a,staticRenderFns:n};t.a=r},pxM1:function(e,t,s){"use strict";var a=s("LWYD"),n=s("QxE/"),r=s("25r8"),i=r(a.a,n.a,null,null,null);t.a=i.exports},q50d:function(e,t,s){"use strict";t.a={name:"carousel",data:function(){return{caroId:1,maxId:5,hoverId:"",timer:null}},methods:{toLeft:function(){this.resetTimer(),this.caroId>1?this.caroId--:this.caroId=this.maxId},toRight:function(){this.resetTimer(),this.caroId<this.maxId?this.caroId++:this.caroId=1},barEnter:function(e){this.hoverId=e},barLeave:function(e){this.hoverId=""},toIndex:function(e){this.resetTimer(),this.caroId=e},resetTimer:function(){clearTimeout(this.timer),this.move()},move:function(){var e=this;this.timer=setInterval(function(){e.toRight()},3e3)}},created:function(){this.move()}}},rQgl:function(e,t,s){"use strict";var a=s("sqQ7"),n=s("XgqK"),r=s("XBbk"),i=s("53r5"),o=s("7CTN"),c=s("ODue"),l=s("pxM1");t.a={path:"/jianli",name:"Jianli",component:a.a,children:[{path:"crawler",component:n.a},{path:"mongodb",component:r.a},{path:"ajax",component:i.a},{path:"session",component:o.a},{path:"ejs",component:l.a},{path:"socket",component:c.a}]}},s20S:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",{staticClass:"jianli-title"},[e._v("\n      session\n    ")]),e._v(" "),s("p",{staticClass:"jianli-tip"},[e._v('\n      session即"会话"。当用户打开网页时session开始，用户关闭网页时session结束，不同浏览器session不同，常用于用户登录。下文以nodejs中express框架使用session为例。\n    ')]),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      1.express中使用express-session中间件来引入session\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/app.js"}})],1),e._v(" "),s("More",{attrs:{code:"var express = require('express');\nvar app = express();\nvar session = require('express-session')\napp.set('trust proxy', 1)\nlet sessionMiddleware = session({\n  secret: 'keyboard cat',\n  cookie: {}\n})\napp.use(sessionMiddleware)\n"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      2.使用\n      "),s("Inner",{attrs:{name:"ajax"}}),e._v("\n      登录请求成功后，将数据保存在session上\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/routes/user.js"}})],1),e._v(" "),s("More",{attrs:{code:"router.get('/login',(req, res) => {\n\n  if (req.session.isLogin) {\n    send(req, res, {state: 2002}) //你已登录\n    return\n  }\n  /*... 检验用户名和密码是否为空*/\n  User.findOne({account:req.query.account},{_id:0,__v:0},(err,user) => {\n    if (err) {\n      /*... 数据库错误*/\n    }\n    if (user) {\n      if (req.query.password === user.password) {\n        req.session.isLogin = true\n        req.session.user = user\n        req.session.user.record = [] //不在seesion中写入record\n        send(req,res,{state:1})\n      } else {\n        send(req, res, {state:1004}) //密码错误\n      }\n    } else {\n      send(req, res, {state:1003}) //用户名不存在\n    }\n  })\n\n})"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      3.在进行任何用户请求前，首先检验session中是否有登录信息\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/routes/user.js"}})],1),e._v(" "),s("More",{attrs:{code:"router.post('/setSex', (req, res) => {\n  if (!req.session.isLogin) {\n    send(req, res, {state:2001}) //尚未登入\n    return\n  }\n  /*...之后的操作*/\n})"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      4.验证码的操作也在session中进行，分为两步：获取验证码并保存在seesion中；检验用户提交的验证码是否和session中的一致。\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/routes/user.js"}})],1),e._v(" "),s("More",{attrs:{code:"var svgCaptcha = require('svg-captcha')\nvar express = require('express');\nvar router = express.Router();\n\nrouter.get('/getCaptcha',(req,res)=>{\n  var captcha = svgCaptcha.create()\n  req.session.captcha = captcha.text.toLowerCase()\n  res.set('Content-Type','image/svg+xml')\n  res.send(captcha.data)\n})\n\nrouter.get('/checkCaptcha',(req,res)=>{\n\n  if (!req.session.captcha) {\n    res.send({state:4001}) //未获取验证码\n    return\n  }\n  if (!req.query.captcha) {\n    res.send({state:4002}) //验证码为空\n    return\n  }\n  if (req.query.captcha!==req.session.captcha) {\n    res.send({state:4003}) //验证码错误\n    return\n  }\n\n  res.send({state:1}) //验证码正确\n})\n\nmodule.exports = router"}})],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},sqQ7:function(e,t,s){"use strict";function a(e){s("T1vp")}var n=s("suyO"),r=s("KaDG"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},suyO:function(e,t,s){"use strict";t.a={name:"jianli"}},tDYX:function(e,t,s){"use strict";t.a={name:"animes",data:function(){return{hover1:!1,hover2:!1,hover3:!1,hover4:!1,hover5:!1,keyword:""}},methods:{log:function(){console.log(this)},search:function(){document.location="/animes#/?keyword="+this.keyword+"&page=1&range=default&sort=count"}}}},tSgn:function(e,t,s){"use strict";var a=s("1qE6"),n=s("czvH"),r=s("Q8SE"),i=s("bis3"),o=s("DX1u"),c=s.n(o);t.a={components:{More:a.a,Github:n.a,Inner:r.a,Outer:i.a},methods:{highlight:function(e){return c.a.highlight(e,c.a.languages.javascript)}}}},tjHR:function(e,t,s){"use strict";t.a={name:"todos",data:function(){return{jQueryHover:!1,reactHover:!1,vueHover:!1,styleNormal:{color:"#333"},styleHover:{color:"#1296db"}}},methods:{log:function(){console.log(this.jQueryHover)}}}},tjeT:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",{staticClass:"jianli-title"},[e._v("\n      MongoDB数据库\n    ")]),e._v(" "),s("p",{staticClass:"jianli-tip"},[e._v("\n      MongoDB是一个基于分布式文件存储的非关系数据库。他支持的是类似json的bson数据结构，查询语言非常强大，并且对nodejs相性较好。下文是对nodejs中使用mongodb一些介绍和实践\n    ")]),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      1.cmd到..\\mongodb\\bin目录,使用mongoimport命令来导入数据,命令mongod来连接数据库。\n    ")]),e._v(" "),s("More",{attrs:{code:"cmd\nD:\\mongodb\\mongoimport -d haizai -c animes -o movies.json  // 导入\nD:\\mongodb\\bin>mongod --dbpath=d:\\\\mongodb\\\\db // 连接"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      2.在nodejs中引入mongoose库，并连接数据库。\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/mongoose/db.js"}})],1),e._v(" "),s("More",{attrs:{code:"var mongoose = require('mongoose')\nmongoose.Promise = global.Promise;\nmongoose.connect('mongodb://localhost/haizai', (err,db)=>{\n  if (err) console.log('server/mongoose/db.js ERROR: \\\\n' ,err , '\\\\n')\n  module.exports = db;\n})"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      3.建立Schema，定义数据结构，再建立model。\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/mongoose/User.js"}})],1),e._v(" "),s("More",{attrs:{code:"var userSchma = new mongoose.Schema({\n  uid: Number, \n  account: String,\n  password: String,\n  registerTime: { type: Date, default: Date.now() },\n  sign: { type: String, default: '' },\n  position: { type: String,default: 'member' }, // admin\n  msg: {\n    sex: {type: String, default: 'secret'}, // male female other\n    proID: {type: Number, default: 0},\n    cityID: {type: Number}\n  },\n  record: {type: Array, default: []},\n  face: {\n    style: {type:String, default: 'boy'}, // boy girl\n    name: {type:Number,  default: 1}, // e.g 1\n  }\n});\nvar User = mongoose.model('User', userSchma);"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      4.通过model.save()来保存数据。\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/mongoose/user.js"}})],1),e._v(" "),s("More",{attrs:{code:"var User = require(path.resolve(__dirname, '..', '..', 'mongoose/User'))\nvar member = {\n  uid: 1, \n  account: 'member',\n  password: 'member123',\n}\nnew User(member).save()"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      5.通过model.findOne(唯一标示)来准确查找。下例为本用户系统的登录代码\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/routes/ajax/user.js"}})],1),e._v(" "),s("More",{attrs:{code:"router.get('/login',(req, res) => {\n  /*...验证是否登录，账号密码是否为空*/\n  User.findOne({account:req.query.account},{_id:0,__v:0},(err,user) => {\n    if (err) {\n    /*...错误处理*/\n    }\n    if (user) {\n      if (req.query.password === user.password) {\n        /*...session处理*/\n        send(req,res,{state:1}) //登入成功\n      } else {\n        send(req, res, {state:1004}) //密码错误\n      }\n    } else {\n      send(req, res, {state:1003}) //用户名不存在\n    }\n  })\n})"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      6.通过model.find(范围,关键字).sort(排序方式).limit(数量限制).skip(跳过的数量).exec(),来进行搜索。下例为动漫展示页的搜索代码\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/routes/ajax/animes.js"}})],1),e._v(" "),s("More",{attrs:{code:"router.get('/animes', (req, res) => {\n  /*keyword处理*/\n  let skip = (req.query.page && parseInt(req.query.page, 10) > 0) ? parseInt(req.query.page, 10) * 10 - 10 : 0\n\n  let reg = new RegExp(keyword, 'i')\n  let findObj = {}\n  if (req.query.range) {\n    switch (req.query.range) {\n      case 'default':\n        findObj = {$or: [{allTitle: reg}, {'info.又名': reg}, {'info.主演': reg}, {'info.导演': reg}, {'info.编剧': reg}]}\n        break\n      /*...其他case*/\n    }\n  }\n\n  let sort = {}\n  if (req.query.sort) {\n    switch (req.query.sort) {\n      case 'year':\n        sort = {'year': -1}\n        break;\n      /*...其他case*/\n    }\n  } \n\n  co(function* () {\n    var animes = yield Anime\n      .find(\n        findObj,\n        {_id: 0, title: 1, allTitle: 1, info: 1, 'rating.count': 1,'rating.value': 1, year: 1, id: 1}\n        )\n      .sort(sort)\n      .limit(10)\n      .skip(skip)\n      .exec();\n    var count = yield Anime.find(findObj).count().exec()\n    return yield {animes, count}\n  }).then(doc=> {\n    res.send(doc)\n  }, err => {\n    console.error('Error ?GET animes \\\\n',err)\n  })\n\n})"}}),e._v(" "),s("p",{staticClass:"jianli-p"},[e._v("\n      7.通过model.update()来更新数据。下例为更新用户签名\n      "),s("Github",{attrs:{href:"https://github.com/haizai/cloud/blob/master/server/mongoose/user.js"}})],1),e._v(" "),s("More",{attrs:{code:"router.post('/setSign', (req, res) => {\n  if (req.session.isLogin) {\n    if (!req.body.sign) {\n      send(req, res, {state:1002}) //个性签名为空\n    } else {\n      if (req.body.sign.length > 30) {\n        send(req, res, {state:1003}) //个性签名超过30个字符\n      } else {\n        User.update({account: req.session.user.account},{$set: {sign: req.body.sign}}, err => {\n          if (err) {\n            /*...错误处理*/\n          } else {\n            req.session.user.sign = req.body.sign\n            send(req,res,{state:1}) //成功\n          }\n        })\n      }\n    }\n  } else {\n    send(req, res, {state:2001}) //尚未登入\n  }\n})"}})],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},uIJA:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"index"},[s("Carousel"),e._v(" "),s("Sect"),e._v(" "),s("Todos"),e._v(" "),s("Gomoku"),e._v(" "),s("Game"),e._v(" "),s("Animes")],1)},n=[],r={render:a,staticRenderFns:n};t.a=r},uL8o:function(e,t,s){"use strict";function a(e){s("2Hoo")}var n=s("Cph6"),r=s("XWpW"),i=s("25r8"),o=a,c=i(n.a,r.a,o,null,null);t.a=c.exports},v91w:function(e,t,s){"use strict";var a=s("Sxqw"),n=s.n(a),r=s("5H7P"),i=s.n(r),o=s("cfvZ"),c=s.n(o),l=s("3rr9"),v=s("C3NG"),u={"String.prototype":l.a,"Number.prototype":v.a};t.a={name:"api-string",created:function(){this.allMethods=c()(l.a),this.data=l.a,this.method="slice",this.toggleMethod()},data:function(){return{allClazz:["String.prototype","Number.prototype"],data:null,clazz:"String.prototype",val:"Hello world!",errText:null,output:"",params:[],tip:"",paramsTrue:[],method:"",paramTypes:[],usage:"",grammar:"",paramActive:null,paramUsages:[],isParamInfinite:!1,outputType:"String"}},computed:{code:function(){var e=this,t=this.params.map(function(t,s){switch(e.paramTypes[s]||e.paramTypes[e.paramTypes.length-1]){case"String":return'"'+t+'"';case"Number":if(""===t)return;return t;default:return t}}).filter(function(e){return void 0!==e}).join(","),s="",a="";switch(this.clazz){case"String.prototype":s='"',a='"';break;case"Number.prototype":s="(",a=")"}return""+s+this.val+a+"."+this.method+"("+t+") => "+this.output}},methods:{toggleClazz:function(){this.allMethods=c()(u[this.clazz]),this.data=u[this.clazz],this.val=8844.43,this.method=this.allMethods[0],this.toggleMethod()},toggleMethod:function(){var e=this.data[this.method];this.usage=e.usage,this.grammar=e.grammar,this.paramActive=null,this.paramUsages=e.paramUsages||[],this.paramTypes=e.paramTypes||[],this.isParamInfinite=e.isParamInfinite||!1,this.paramCount=e.paramUsages.length,this.outputType=e.outputType||"String",this.tip=e.tip,this.params=[],this.paramsTrue=[],this.run()},paramInput:function(e){var t=this.params[e],s=this.paramTypes[e]||this.paramTypes[this.paramTypes.length-1];if(this.errText="","String"!==s)if(""===t)this.paramsTrue[e]=void 0,this.run();else{var a=+t;i()(a,NaN)?this.errText="请输入 Number 类型":(this.paramsTrue[e]=a,this.run())}else this.paramsTrue[e]=t,this.run()},run:function(){var e,t=this.paramsTrue,s=this.val;switch(this.clazz){case"Number.prototype":if(s=+s,i()(s,NaN))return void(this.errText="请输入 Number 类型");this.errText=null;break;case"String.prototype":s=s.toString()}(e=console).log.apply(e,[s,this.method].concat(n()(t)));var a=void 0;try{var r;a=(r=s)[this.method].apply(r,n()(t))}catch(e){this.errText=e.toString(),console.error(e)}"String"!==this.outputType||(a='"'+a+'"'),this.output=a,this.$forceUpdate()},log:function(){console.log(this)}}}},wqHE:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"todos"},[s("h2",{staticClass:"todos-title"},[e._v("Todos —— 最合适的新框架入门demo")]),e._v(" "),s("p",{staticClass:"todos-info"},[e._v("增加，删除，选中，编辑，筛选，批量操作等")]),e._v(" "),s("a",{attrs:{href:"/demo/jquery-todos/todos.html",target:"_blank"}},[s("div",{staticClass:"todos-item",on:{mouseenter:function(t){e.jQueryHover=!0},mouseleave:function(t){e.jQueryHover=!1}}},[s("i",{staticClass:"icon-jquery",class:{"icon-jquery-hover":e.jQueryHover}}),e._v(" "),s("span",{style:e.jQueryHover?e.styleHover:e.styleNormal},[e._v("jQuery Todos")])])]),e._v(" "),s("a",{attrs:{href:"/demo/react-todos/index.html",target:"_blank"}},[s("div",{staticClass:"todos-item",on:{mouseenter:function(t){e.reactHover=!0},mouseleave:function(t){e.reactHover=!1}}},[s("i",{staticClass:"icon-react",class:{"icon-react-hover":e.reactHover}}),e._v(" "),s("span",{style:e.reactHover?e.styleHover:e.styleNormal},[e._v("React Todos")])])]),e._v(" "),s("a",{attrs:{href:"demo/vuex-todos/index.html",target:"_blank"}},[s("div",{staticClass:"todos-item",on:{mouseenter:function(t){e.vueHover=!0},mouseleave:function(t){e.vueHover=!1}}},[s("i",{staticClass:"icon-vue",class:{"icon-vue-hover":e.vueHover}}),e._v(" "),s("span",{style:e.vueHover?e.styleHover:e.styleNormal},[e._v("Vue Todos")])])])])},n=[],r={render:a,staticRenderFns:n};t.a=r}},["NHnr"]);
//# sourceMappingURL=app.72393ed1c7bfee5a8e06.js.map